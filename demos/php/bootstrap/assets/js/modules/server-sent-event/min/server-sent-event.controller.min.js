// server-sent-event.controller.min.js v1.0
define(["sse_library"],function(){return Backbone.Controller.extend({initialize:function(){console.log("Backbone.Controller.ServerSentEventController has been initialized.")},firstSessionSSE:function(){I.Library.SSE.init({id:"first-session",url:I.BaseURL+"/data/json.php?process=sse&refresh=3",refresh:3,expiration:12,success:function(a){$("#first-sse-session time").html(a.date_time);$("#first-sse-session span.request").html(a.request);$("#first-sse-session span.status").html("Active");$("#first-sse-session span.refresh").html(3); $("#first-sse-session span.expire").html(12)},error:function(){$("#first-sse-session span.status").html("Error")},expire:function(){$("#first-sse-session span.status").html("Inactive")}})},secondSessionSSE:function(){I.Library.SSE.init({id:"second-session",url:I.BaseURL+"/data/json.php?process=sse",refresh:5,ajax:!0,expiration:15,success:function(a){$("#second-sse-session time").html(a.date_time);$("#second-sse-session span.request").html(a.request);$("#second-sse-session span.status").html("Active"); $("#second-sse-session span.refresh").html(5);$("#second-sse-session span.expire").html(15)},error:function(){$("#second-sse-session span.status").html("Error")},expire:function(){$("#second-sse-session span.status").html("Inactive")}})},thirdSessionSSE:function(){var a=I.BaseURL+"/data/json.php?process=sse&refresh=4&with-id=true";I.Library.SSE.init({id:"third-session",url:a,refresh:4,expiration:20,success:function(b){$("#third-sse-session span.current-id").html()!=b.newId&&(console.log("SSE has been manually stopped..."), I.Library.SSE.url["third-session"]=a+"&new-id="+b.newId,I.Library.SSE.reset("third-session"));$("#third-sse-session span.current-id").html(b.newId);$("#third-sse-session span.current-url").html(I.Library.SSE.url["third-session"]);$("#third-sse-session time").html(b.date_time);$("#third-sse-session span.request").html(b.request);$("#third-sse-session span.status").html("Active");$("#third-sse-session span.refresh").html(4);$("#third-sse-session span.expire").html(20)},error:function(){$("#third-sse-session span.status").html("Error")}, expire:function(){$("#third-sse-session span.status").html("Inactive")}})}})});