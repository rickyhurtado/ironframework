// collection.library.min.js v1.0
I.Library.Collection={models:null,collections:null,url:null,type:"post",data:{},success:function(a){},error:function(){},sync:function(a){this.models=a.models;this.collections=a.collections;this.url=a.url;this.data=a.data;void 0!=a.success&&(this.success=a.success);void 0!=a.error&&(this.error=a.error);this.fetch()},fetch:function(){var a=this;Backbone.ajax({url:a.url,type:a.type,data:a.data,dataType:"json",cache:!1,success:function(b){_.map(b,function(b,c){var d=[];a.model=a.models[c];a.collection= a.collections[c];_.map(b,function(a,b){a.id=b+1;d.push(a)});a.reset(a.collections[c]);a.storeModel(d)});a.success(b)},error:function(){a.error()}})},reset:function(a){var b=[];a.each(function(a){b.push(a)});for(a=0;a<b.length;a++)b[a].destroy()},storeModel:function(a){for(var b=0;b<a.length;b++)this.collection.create(new this.model(a[b]))}};