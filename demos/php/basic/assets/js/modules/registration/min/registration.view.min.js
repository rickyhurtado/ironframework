// registration.view.min.js v1.0
define(["core_module"],function(){return Backbone.View.extend({initialize:function(){console.log("Backbone.View.RegistrationView has been initialized.");I.Registration.Controller.initForm()},el:$("body"),target:{mainContent:"#main-content",registrationPage:"#registration-main-content"},template:{registrationPage:new EJS({url:I.JsPath+"/module/registration/template/"+I.JsVersion+"/registration-page."+I.JsVersion+".html"}),resultPage:new EJS({url:I.JsPath+"/module/registration/template/"+I.JsVersion+ "/result-page."+I.JsVersion+".html"})},events:{"click #registration-next-step":"displayContactPage","click #registration-submit":"submitRegistrationForm"},renderRegistrationPage:function(){var a=I.Registration.Controller.options.collections,b=a.registration.find(function(a){return 0==a.get("id")}),a=a.contacts.find(function(a){return 0==a.get("id")});0==$(this.target.registrationPage).length?$(this.target.mainContent).append(this.template.registrationPage.render({registration:b,contacts:a})):I.Library.Form.enable("registration", !0);$("[name=birth_day] option[value="+b.get("birth_day")+"]").prop("selected",!0);$("[name=birth_month] option[value="+b.get("birth_month")+"]").prop("selected",!0);$("[name=birth_year] option[value="+b.get("birth_year")+"]").prop("selected",!0);0==$("[data-form-input-group=subscription]:checked").length&&$("[data-form-input-group=subscription].form-input-uncheck-all").click();0==$("[data-form-input-group=interest]:checked").length&&$("[data-form-input-group=interest].form-input-uncheck-all").click(); I.Library.Form.sessionStart()},renderResultPage:function(){$(this.target.mainContent).append(this.template.resultPage.render({}))},displayContactPage:function(){I.Registration.Controller.form.validateStep(1)&&Backbone.history.navigate("register/contacts",!0)},submitRegistrationForm:function(){I.Registration.Controller.submitRegistrationForm()}})});